<!DOCTYPE html>
<html lang="ar" dir="rtl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #007BFF;
            --primary-dark: #0056b3;
            --text-color-dark: #212529;
        }

        body {
            background: linear-gradient(135deg, #A8C0FF 0%, #39436E 100%);
            font-family: 'Tajawal', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding-right: 260px;
        }

        .settings-card {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 2rem;
            width: 100%;
            max-width: 550px;
        }

        h3 {
            font-weight: 700;
            color: var(--primary-dark);
        }

        .section-title {
            font-weight: 800;
            color: var(--primary-dark);
            margin-top: 35px;
            margin-bottom: 15px;
        }

        .service-row:hover {
            background: #eef6ff;
        }

        .btn-delete {
            border: none;
            background: transparent;
            color: red;
            font-size: 1.2rem;
        }

        .btn-delete:hover {
            color: darkred;
        }
    </style>
</head>

<body>

<div th:replace="fragments/sidebar :: doctorSidebar()"></div>
<div th:replace="fragments/chat-popup :: chatPopupFragment"></div>

<div class="settings-card">

    <h3 class="text-center mb-4">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©</h3>

    <form th:action="@{/doctor/settings}" method="post">
        <div class="mb-3">
            <label class="form-label">ğŸ’µ Ø³Ø¹Ø± Ø§Ù„ÙƒØ´Ù</label>
            <input type="number" step="0.5" min="0" name="consultationPrice" class="form-control"
                   th:value="${clinic.checkUpPrice}" required>
        </div>

        <div class="mb-3">
            <label class="form-label">ğŸ’° Ø³Ø¹Ø± Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©</label>
            <input type="number" step="0.5" min="0" name="followUpPrice" class="form-control"
                   th:value="${clinic.followUpPrice}" required>
        </div>

        <button class="btn btn-primary w-100 mt-3">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
    </form>

    <div th:if="${success}" class="alert alert-success text-center mt-3" th:text="${success}"></div>

    <!-- =============================== -->
    <!--      â­ Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª        -->
    <!-- =============================== -->
    <h4 class="section-title">ğŸ› ï¸ Ø®Ø¯Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø·Ø¨ÙŠØ©)</h4>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© -->
    <form action="/doctor/services/add" method="post" class="card p-3 mb-3">
        <div class="row g-2">
            <div class="col-7">
                <input type="text" name="name" class="form-control" placeholder="Ù…Ø«Ø§Ù„: Ø®Ù„Ø¹ Ø¶Ø±Ø³" required>
            </div>
            <div class="col-3">
                <input type="number" min="0" step="0.5" name="price" class="form-control" placeholder="Ø§Ù„Ø³Ø¹Ø±" required>
            </div>
            <div class="col-2">
                <button class="btn btn-primary w-100">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
        </div>
    </form>

    <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø¯Ù…Ø§Øª -->
    <table class="table table-bordered text-center">
        <thead class="table-primary">
        <tr>
            <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
            <th>Ø§Ù„Ø³Ø¹Ø±</th>
            <th>Ø­Ø°Ù</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="s : ${services}" class="service-row">
            <td th:text="${s.name}"></td>
            <td th:text="${s.price}"></td>
            <td>
                <form action="/doctor/services/delete" method="post">
                    <input type="hidden" name="id" th:value="${s.id}">
                    <button class="btn-delete"><i class="bi bi-trash"></i></button>
                </form>
            </td>
        </tr>

        <tr th:if="${#lists.isEmpty(services)}">
            <td colspan="3" class="text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¯Ù…Ø§Øª Ù…Ø¶Ø§ÙØ©</td>
        </tr>
        </tbody>

    </table>

</div>

</body>
</html>
